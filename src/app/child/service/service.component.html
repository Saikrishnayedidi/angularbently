
<form [formGroup]="serviceForm">
<mat-expansion-panel class="mt-4 overcallBg"  expanded="true">
    <mat-expansion-panel-header class="rounded-pill bg-white border">
      <mat-panel-title class="fs-5 c"> Service </mat-panel-title>
      <mat-panel-description> </mat-panel-description>
    </mat-expansion-panel-header>
    <div class="d-flex justify-content-between bgdivColor py-2 px-1 mt-3">
      <span class="col-6">products&service</span>
      <span class="col-3 text-end">Monthly Free</span>
      <span class="col-3 text-end">Line Amount</span>
    </div>

    <mat-expansion-panel
      class="mt-5 overcallBg"
      hideToggle="true"
      expanded="true"
    >
      <mat-expansion-panel-header
        class="border bg-white"

        #panelH
        (click)="panelH._toggle()"
      >
        <mat-panel-title class="d-flex justify-content-between">
          <div class="d-flex col-12">
            <div class="form-check d-flex align-items-center">
              <input
                class="form-check-input me-2"
                type="checkbox"
                value=""
                id="defaultCheck1"
                name="n1"
                #check1
               
                (change)="check($event)"
               
              />
              <label
                class="form-check-label mt-1"
                for="defaultCheck1"
              >
                Service Retention (CustomerExclusive)
              </label>
              <i
                class="fas fa-angle-right fs-4 ms-4"
                (click)="panelH._toggle()"
              ></i>
            </div>
          </div>
        </mat-panel-title>
        <mat-panel-description> </mat-panel-description>
        <div class="" formGroupName='seriveCustom' >
          <div class="col-3 text-end mt-2">
            <input
              type="text"
              data-name="sub"
              id="parent"
              dir="rtl"
              
              name="monthlyFee"
              (blur)="servieFun($event,'seriveCustom','monthlyFee','lineAmount','lineAmountTotal1')"
              formControlName="monthlyFee"
              class="input_money me-1"
            />
          </div>
        </div>
        <div class="col-3 text-end mt-2">
          <span>{{display.lineAmount|currency:'USD'}}</span>
        </div>
      </mat-expansion-panel-header>
      <div class="overcallBg "  #disables>
        <div  formGroupName="search">
          <div
            class="
              d-flex
              bgColor
              py-3
              px-3
              justify-content-between
              mt-3
            "
          >
            <span class="col-5">products&service</span>
            <span class="col-5 text-end">Monthly Budget</span>
            <span class="col-2 text-end">Line Amount</span>
          </div>
          <div 
            class="d-flex bgdivColor  align-items-center py-2 mt-3 px-3"
          >
            <span class="col-5 doted bgdivColor py-2 t">Search - Service</span>

            <div class="text-end doted bgdivColor py-2 px-3 col-5">
              <input
                type="text"
                id=""
                dir="rtl"
                #input1
                data-name="sub"
                formControlName="monthlyBudgetSearch"
                (blur)="servieFun($event,'search','monthlyBudgetSearch','lineAmount1','lineAmountTotal1')"
                class="input_money"
              />
            </div>
            <div class="col-2 bgdivColor py-2 text-end">{{display.lineAmount1|currency:'USD'}}</div>
          </div>
          <div
            class="d-flex bgdivColor   align-items-center py-2 mt-3 px-3"
          >
            <span class="col-5 doted t">Search - Service</span>

            <div class="text-end doted bgdivColor pt-2 px-3 col-5">
              <input
                type="text"
                id=""
                dir="rtl"
                data-name="sub"
                formControlName="monthlyBudgetService"
                
                (blur)="servieFun($event,'search','monthlyBudgetService','lineAmount2','lineAmountTotal1')"
               
                class="input_money"
              />
            </div>
            <div class="col-2 text-end">{{display.lineAmount2|currency:'USD'}}</div>
          </div>
          <div
            class="
              d-flex
              align-items-center
              bgdivColor   
              mt-3
              py-2
              px-3
              justify-content-between
            "
          >
            <span class="c"
              >Total Service Retention (Customer Exclusive)</span
            >
            <div class="c">{{display.lineAmountTotal1|currency:'USD'}}</div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel
      class="mt-5 overcallBg"
      hideToggle="true"
      expanded="true"
    >
      <mat-expansion-panel-header
        class="border bg-white"
        
        #panelH1
        (click)="panelH1._toggle()"
      >
        <mat-panel-title>
          <div class="form-check d-flex align-items-center">
            <input
              class="form-check-input me-2"
              type="checkbox"
              value=""
              id="defaultCheck2"
              name="n1"
              #check2
              (change)="check($event)"
            
            />
            <label class="form-check-label mt-1" for="defaultCheck1">
              Service Retention
            </label>
            <i
              class="fas fa-angle-right fs-4 ms-4"
              (click)="panelH1._toggle()"
            ></i>
          </div>
        </mat-panel-title>
        <mat-panel-description> </mat-panel-description>
        <div formGroupName="service" >
          <div class="col-3 text-end mt-2">
            <input
              type="text"
              data-name="Sub"
              id="parent2"
              dir="rtl"
              #parent2
              formControlName="monthlyFee"
            
              (blur)="servieFun($event,'service','monthlyFee','lineAmount3','lineAmountTotal2')"
              class="input_money me-1"
            />
          </div>
        </div>
        <div class="col-3 text-end mt-2">
          <span>{{display.lineAmount3|currency:'USD'}}</span>
        </div>
      </mat-expansion-panel-header>
      <div class="overcallBg">
        <div formGroupName="search2" >
          <div
            class="
              d-flex
              bgColor
              py-3
              px-3
              justify-content-between
              mt-3
            "
          >
            <span class="col-5">products&service</span>
            <span class="col-5 text-end">Monthly Budget</span>
            <span class="col-2 text-end">Line Amount</span>
          </div>
          <div
            class="d-flex bgdivColor   align-items-center py-2 mt-3 px-3"
          >
            <span class="col-5 doted t">Search - Service</span>

            <div class="text-end doted bgdivColor pt-2 px-3 col-5">
              <input
                type="text"
                id=""
                dir="rtl"
                data-name="Sub"
                formControlName="monthlyBudgetSearch"
                (blur)="servieFun($event,'search2','monthlyBudgetSearch','lineAmount4','lineAmountTotal2')"
                class="input_money"
              />
            </div>
            <div class="col-2 text-end">{{display.lineAmount4 | currency:'USD'}}</div>
          </div>
          <div
            class="d-flex bgdivColor   align-items-center py-2 mt-3 px-3"
          >
            <span class="col-5 doted t">Search - Service</span>

            <div class="text-end doted bgdivColor pt-2 px-3 col-5">
              <input
                type="text"
                id=""
                dir="rtl"
                data-name="Sub"
                (blur)="servieFun($event,'search2','monthlyBudgetService','lineAmount5','lineAmountTotal2')"
                formControlName="monthlyBudgetService"
                class="input_money"
              />
            </div>
            <div class="col-2 text-end">{{display.lineAmount5 | currency:'USD'}}</div>
          </div>
          <div
            class="
              d-flex
              align-items-center
              bgdivColor  
              mt-3
              py-2
              px-3
              justify-content-between
            "
          >
            <span class="c"
              >Total Service Retention </span
            >
            <div class="c">{{display.lineAmountTotal2|currency:'USD'}}</div>
          </div>
        </div>
      </div>
    </mat-expansion-panel>
    <div
      class="
        d-flex
        align-items-center
        bgColor
        mt-3
        py-2
        px-3
        justify-content-between
      "
    >
      <span class="c fs-5">Total Service </span>
      <div class="c fs-5">{{servicetotal|currency:'USD'}}</div>
    </div>
  </mat-expansion-panel>
  </form>
